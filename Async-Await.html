<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
      /* async function myFunc(){
          const promise = new Promise((resolve, reject) => {
            setTimeout(() => resolve("Hi there, 2 sec later."), 2000)
          });

          const error = true;

          if(!error){
            const response = await promise;
            return response;
          }else{
              await Promise.reject(new Error("something is wrong"));
          }
          
      }  
      myFunc()
      .then(response => console.log(response))
      .catch(error => console.log(error) ); */
    function loadScript(src) {
        return new Promise((resolve, reject) => {
            let script = document.createElement('script');
            script.src = src;
            
            script.onload = () => resolve(script);
            script.onerror = () => reject(new Error(`load error for ${src}`));

            document.head.append(script);
        });
    }

   function dalay(ms) {
       return new Promise((resolve, reject) => {
           setTimeout(resolve, ms);
       });
   }

   dalay(3000)
   .then(() => console.log("after 3 sec"))
   .catch((error => console.log(error)))

   function showCircle(cx, cy, rdias){
       return new Promise((resolve, reject) => {
        let div = document.createElement('div');
            div.style.width = 0;
            div.style.height = 0;
            div.style.left = cx + 'px';
            div.style.top = cy + 'px';
            div.className = 'circle';
            document.body.append(div);
        div.onclick = () => resolve(div);
        div.onerror = () => reject(error);
       });
   }

   showCircle(150, 150, 100, div => {
  div.classList.add('message-ball');
  div.append("Hello, world!");
});

    </script>
</body>
</html>